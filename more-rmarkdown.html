<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 More Rmarkdown | Reproducible Research in R</title>
  <meta name="description" content="6 More Rmarkdown | Reproducible Research in R" />
  <meta name="generator" content="bookdown 0.11.2 and GitBook 2.6.7" />

  <meta property="og:title" content="6 More Rmarkdown | Reproducible Research in R" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="MonashDataFluency/r-rep-res" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 More Rmarkdown | Reproducible Research in R" />
  
  
  



<meta name="date" content="2019-07-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="the-r-chunk-2.html">
<link rel="next" href="yaml-introduction.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="../css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Reproducible Research in R</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#learning-outcomes"><i class="fa fa-check"></i><b>0.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#workshop-description"><i class="fa fa-check"></i><b>0.2</b> Workshop description</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#prerequisite"><i class="fa fa-check"></i><b>0.3</b> Prerequisite</a></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#keywords"><i class="fa fa-check"></i><b>0.4</b> Keywords</a></li>
<li class="chapter" data-level="0.5" data-path="index.html"><a href="index.html#schedule"><i class="fa fa-check"></i><b>0.5</b> Schedule</a></li>
<li class="chapter" data-level="0.6" data-path="index.html"><a href="index.html#authors-and-copyright"><i class="fa fa-check"></i><b>0.6</b> Authors and copyright</a></li>
</ul></li>
<li class="part"><span><b>I Part I</b></span></li>
<li class="chapter" data-level="1" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html"><i class="fa fa-check"></i><b>1</b> Introduction to Rmarkdown</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#rmarkdown-core-parts"><i class="fa fa-check"></i><b>1.1</b> Rmarkdown core parts</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#yaml-header"><i class="fa fa-check"></i><b>1.1.1</b> <span>YAML header</span></a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#the-r-chunks"><i class="fa fa-check"></i><b>1.1.2</b> <span>The R chunks</span></a></li>
<li class="chapter" data-level="1.1.3" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#everything-else-is-plain-old-markdown"><i class="fa fa-check"></i><b>1.1.3</b> <span>Everything else is plain old markdown</span></a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#challenge-introduction-1"><i class="fa fa-check"></i><b>1.2</b> Challenge: Introduction 1</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#rmarkdown-ecosystem"><i class="fa fa-check"></i><b>1.3</b> Rmarkdown ecosystem</a><ul>
<li class="chapter" data-level="1.3.1" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#pandoc"><i class="fa fa-check"></i><b>1.3.1</b> Pandoc</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#yaml"><i class="fa fa-check"></i><b>1.3.2</b> YAML</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#latex"><i class="fa fa-check"></i><b>1.3.3</b> LaTeX</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#knitr"><i class="fa fa-check"></i><b>1.3.4</b> Knitr</a></li>
<li class="chapter" data-level="1.3.5" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#rmarkdown"><i class="fa fa-check"></i><b>1.3.5</b> Rmarkdown</a></li>
<li class="chapter" data-level="1.3.6" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#bookdown"><i class="fa fa-check"></i><b>1.3.6</b> Bookdown</a></li>
<li class="chapter" data-level="1.3.7" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#others"><i class="fa fa-check"></i><b>1.3.7</b> Others</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#setup"><i class="fa fa-check"></i><b>1.4</b> Setup</a></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#challenge-introduction-2"><i class="fa fa-check"></i><b>1.5</b> Challenge: Introduction 2</a></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-rmarkdown.html"><a href="introduction-to-rmarkdown.html#useful-tips"><i class="fa fa-check"></i><b>1.6</b> Useful tips</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="vanilla-markdown.html"><a href="vanilla-markdown.html"><i class="fa fa-check"></i><b>2</b> Vanilla Markdown</a><ul>
<li class="chapter" data-level="2.1" data-path="vanilla-markdown.html"><a href="vanilla-markdown.html#vanilla-tags"><i class="fa fa-check"></i><b>2.1</b> Vanilla tags</a></li>
<li class="chapter" data-level="2.2" data-path="vanilla-markdown.html"><a href="vanilla-markdown.html#practice-vanilla-markdown"><i class="fa fa-check"></i><b>2.2</b> Practice vanilla markdown</a></li>
<li class="chapter" data-level="2.3" data-path="vanilla-markdown.html"><a href="vanilla-markdown.html#challenge-markdown-101"><i class="fa fa-check"></i><b>2.3</b> Challenge: Markdown 101</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rmarkdown-1.html"><a href="rmarkdown-1.html"><i class="fa fa-check"></i><b>3</b> Rmarkdown</a><ul>
<li class="chapter" data-level="3.1" data-path="rmarkdown-1.html"><a href="rmarkdown-1.html#embedding-r-code"><i class="fa fa-check"></i><b>3.1</b> Embedding R code</a><ul>
<li class="chapter" data-level="3.1.1" data-path="rmarkdown-1.html"><a href="rmarkdown-1.html#echo-and-eval"><i class="fa fa-check"></i><b>3.1.1</b> echo and eval</a></li>
<li class="chapter" data-level="3.1.2" data-path="rmarkdown-1.html"><a href="rmarkdown-1.html#include"><i class="fa fa-check"></i><b>3.1.2</b> include</a></li>
<li class="chapter" data-level="3.1.3" data-path="rmarkdown-1.html"><a href="rmarkdown-1.html#results"><i class="fa fa-check"></i><b>3.1.3</b> results</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="rmarkdown-1.html"><a href="rmarkdown-1.html#challenge-code-chunks"><i class="fa fa-check"></i><b>3.2</b> Challenge: code chunks</a></li>
</ul></li>
<li class="part"><span><b>II Part II</b></span></li>
<li class="chapter" data-level="4" data-path="git-and-github-introduction.html"><a href="git-and-github-introduction.html"><i class="fa fa-check"></i><b>4</b> Git and GitHub introduction</a><ul>
<li class="chapter" data-level="4.1" data-path="git-and-github-introduction.html"><a href="git-and-github-introduction.html#github-setup"><i class="fa fa-check"></i><b>4.1</b> Github setup</a></li>
<li class="chapter" data-level="4.2" data-path="git-and-github-introduction.html"><a href="git-and-github-introduction.html#rstudio-setup"><i class="fa fa-check"></i><b>4.2</b> RStudio setup</a></li>
<li class="chapter" data-level="4.3" data-path="git-and-github-introduction.html"><a href="git-and-github-introduction.html#github-things"><i class="fa fa-check"></i><b>4.3</b> GitHub things</a></li>
<li class="chapter" data-level="4.4" data-path="git-and-github-introduction.html"><a href="git-and-github-introduction.html#more-git"><i class="fa fa-check"></i><b>4.4</b> More git</a></li>
<li class="chapter" data-level="4.5" data-path="git-and-github-introduction.html"><a href="git-and-github-introduction.html#git-no-nos"><i class="fa fa-check"></i><b>4.5</b> git no nos</a></li>
<li class="chapter" data-level="4.6" data-path="git-and-github-introduction.html"><a href="git-and-github-introduction.html#starting-with-git"><i class="fa fa-check"></i><b>4.6</b> Starting with git</a><ul>
<li class="chapter" data-level="4.6.1" data-path="git-and-github-introduction.html"><a href="git-and-github-introduction.html#configuring-git"><i class="fa fa-check"></i><b>4.6.1</b> Configuring git</a></li>
<li class="chapter" data-level="4.6.2" data-path="git-and-github-introduction.html"><a href="git-and-github-introduction.html#intiating-git-repository"><i class="fa fa-check"></i><b>4.6.2</b> Intiating git repository</a></li>
<li class="chapter" data-level="4.6.3" data-path="git-and-github-introduction.html"><a href="git-and-github-introduction.html#first-commit"><i class="fa fa-check"></i><b>4.6.3</b> First commit</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="git-and-github-introduction.html"><a href="git-and-github-introduction.html#which-files-to-commit"><i class="fa fa-check"></i><b>4.7</b> Which files to commit?</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="the-r-chunk-2.html"><a href="the-r-chunk-2.html"><i class="fa fa-check"></i><b>5</b> The R chunk 2</a><ul>
<li class="chapter" data-level="5.1" data-path="the-r-chunk-2.html"><a href="the-r-chunk-2.html#working-with-code-chunks"><i class="fa fa-check"></i><b>5.1</b> Working with code chunks</a></li>
<li class="chapter" data-level="5.2" data-path="the-r-chunk-2.html"><a href="the-r-chunk-2.html#figures-related-chunk-options"><i class="fa fa-check"></i><b>5.2</b> Figures related chunk options</a></li>
<li class="chapter" data-level="5.3" data-path="the-r-chunk-2.html"><a href="the-r-chunk-2.html#challenge-code-chunks-1"><i class="fa fa-check"></i><b>5.3</b> Challenge: code chunks</a></li>
<li class="chapter" data-level="5.4" data-path="the-r-chunk-2.html"><a href="the-r-chunk-2.html#more-useful-chunk-options"><i class="fa fa-check"></i><b>5.4</b> More useful chunk options</a><ul>
<li class="chapter" data-level="5.4.1" data-path="the-r-chunk-2.html"><a href="the-r-chunk-2.html#stand-alone-rmarkdown-file"><i class="fa fa-check"></i><b>5.4.1</b> Stand alone Rmarkdown file</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="the-r-chunk-2.html"><a href="the-r-chunk-2.html#challenge-more-code-chunks"><i class="fa fa-check"></i><b>5.5</b> Challenge: more code chunks</a></li>
<li class="chapter" data-level="5.6" data-path="the-r-chunk-2.html"><a href="the-r-chunk-2.html#references"><i class="fa fa-check"></i><b>5.6</b> References</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="more-rmarkdown.html"><a href="more-rmarkdown.html"><i class="fa fa-check"></i><b>6</b> More Rmarkdown</a><ul>
<li class="chapter" data-level="6.1" data-path="more-rmarkdown.html"><a href="more-rmarkdown.html#setup-1"><i class="fa fa-check"></i><b>6.1</b> Setup</a><ul>
<li class="chapter" data-level="6.1.1" data-path="more-rmarkdown.html"><a href="more-rmarkdown.html#setting-global-chunk-options"><i class="fa fa-check"></i><b>6.1.1</b> Setting global chunk options</a></li>
<li class="chapter" data-level="6.1.2" data-path="more-rmarkdown.html"><a href="more-rmarkdown.html#loading-libraries"><i class="fa fa-check"></i><b>6.1.2</b> Loading libraries</a></li>
<li class="chapter" data-level="6.1.3" data-path="more-rmarkdown.html"><a href="more-rmarkdown.html#downloading-the-data"><i class="fa fa-check"></i><b>6.1.3</b> Downloading the data</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="more-rmarkdown.html"><a href="more-rmarkdown.html#challenge-1"><i class="fa fa-check"></i><b>6.2</b> Challenge: 1</a></li>
<li class="chapter" data-level="6.3" data-path="more-rmarkdown.html"><a href="more-rmarkdown.html#exploring-the-data"><i class="fa fa-check"></i><b>6.3</b> Exploring the data</a></li>
<li class="chapter" data-level="6.4" data-path="more-rmarkdown.html"><a href="more-rmarkdown.html#challenge-1-1"><i class="fa fa-check"></i><b>6.4</b> Challenge: 1</a></li>
<li class="chapter" data-level="6.5" data-path="more-rmarkdown.html"><a href="more-rmarkdown.html#visualising-the-data"><i class="fa fa-check"></i><b>6.5</b> Visualising the data</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="yaml-introduction.html"><a href="yaml-introduction.html"><i class="fa fa-check"></i><b>7</b> YAML introduction</a><ul>
<li class="chapter" data-level="7.1" data-path="yaml-introduction.html"><a href="yaml-introduction.html#yaml-header-1"><i class="fa fa-check"></i><b>7.1</b> YAML header</a><ul>
<li class="chapter" data-level="7.1.1" data-path="yaml-introduction.html"><a href="yaml-introduction.html#example-1"><i class="fa fa-check"></i><b>7.1.1</b> Example 1</a></li>
<li class="chapter" data-level="7.1.2" data-path="yaml-introduction.html"><a href="yaml-introduction.html#example-2"><i class="fa fa-check"></i><b>7.1.2</b> Example 2</a></li>
<li class="chapter" data-level="7.1.3" data-path="yaml-introduction.html"><a href="yaml-introduction.html#example-3"><i class="fa fa-check"></i><b>7.1.3</b> Example 3</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="yaml-introduction.html"><a href="yaml-introduction.html#challenge-yaml-1"><i class="fa fa-check"></i><b>7.2</b> Challenge: YAML 1</a></li>
<li class="chapter" data-level="7.3" data-path="yaml-introduction.html"><a href="yaml-introduction.html#general-yaml-header"><i class="fa fa-check"></i><b>7.3</b> General yaml header</a></li>
<li class="chapter" data-level="7.4" data-path="yaml-introduction.html"><a href="yaml-introduction.html#challenge-yaml-2"><i class="fa fa-check"></i><b>7.4</b> Challenge: YAML 2</a></li>
<li class="chapter" data-level="7.5" data-path="yaml-introduction.html"><a href="yaml-introduction.html#rmarkdown-yaml-header"><i class="fa fa-check"></i><b>7.5</b> Rmarkdown yaml header</a></li>
<li class="chapter" data-level="7.6" data-path="yaml-introduction.html"><a href="yaml-introduction.html#rmarkdown-rendering"><i class="fa fa-check"></i><b>7.6</b> Rmarkdown rendering</a></li>
<li class="chapter" data-level="7.7" data-path="yaml-introduction.html"><a href="yaml-introduction.html#challenge-yaml-3"><i class="fa fa-check"></i><b>7.7</b> Challenge: YAML 3</a></li>
<li class="chapter" data-level="7.8" data-path="yaml-introduction.html"><a href="yaml-introduction.html#more-rmarkdown-tags"><i class="fa fa-check"></i><b>7.8</b> More Rmarkdown tags</a></li>
<li class="chapter" data-level="7.9" data-path="yaml-introduction.html"><a href="yaml-introduction.html#presentation-slides"><i class="fa fa-check"></i><b>7.9</b> Presentation slides</a></li>
<li class="chapter" data-level="7.10" data-path="yaml-introduction.html"><a href="yaml-introduction.html#bookdown-yaml-header"><i class="fa fa-check"></i><b>7.10</b> Bookdown yaml header</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="bookdown-1.html"><a href="bookdown-1.html"><i class="fa fa-check"></i><b>8</b> Bookdown</a></li>
<li class="chapter" data-level="9" data-path="bibliographies.html"><a href="bibliographies.html"><i class="fa fa-check"></i><b>9</b> Bibliographies</a></li>
<li class="chapter" data-level="10" data-path="work-in-progress.html"><a href="work-in-progress.html"><i class="fa fa-check"></i><b>10</b> Work in progress</a><ul>
<li class="chapter" data-level="10.1" data-path="work-in-progress.html"><a href="work-in-progress.html#section"><i class="fa fa-check"></i><b>10.1</b> </a></li>
<li class="chapter" data-level="10.2" data-path="work-in-progress.html"><a href="work-in-progress.html#check"><i class="fa fa-check"></i><b>10.2</b> check</a></li>
<li class="chapter" data-level="10.3" data-path="work-in-progress.html"><a href="work-in-progress.html#section-1"><i class="fa fa-check"></i><b>10.3</b> </a></li>
<li class="chapter" data-level="10.4" data-path="work-in-progress.html"><a href="work-in-progress.html#yaml-1"><i class="fa fa-check"></i><b>10.4</b> YAML</a></li>
<li class="chapter" data-level="10.5" data-path="work-in-progress.html"><a href="work-in-progress.html#latex-1"><i class="fa fa-check"></i><b>10.5</b> LaTeX</a></li>
<li class="chapter" data-level="10.6" data-path="work-in-progress.html"><a href="work-in-progress.html#tabbed-sections"><i class="fa fa-check"></i><b>10.6</b> Tabbed sections</a></li>
<li class="chapter" data-level="10.7" data-path="work-in-progress.html"><a href="work-in-progress.html#figure-options-via-yaml"><i class="fa fa-check"></i><b>10.7</b> Figure options via yaml</a></li>
<li class="chapter" data-level="10.8" data-path="work-in-progress.html"><a href="work-in-progress.html#tables-rmarkdown"><i class="fa fa-check"></i><b>10.8</b> tables Rmarkdown</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reproducible Research in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="more-rmarkdown" class="section level1">
<h1><span class="header-section-number">6</span> More Rmarkdown</h1>
<p>We are going to inrease the difficulty a little now. We are going to start working towards our <a href="example.html">final documnet</a>.</p>
<p>Typically you will have some data set that you are trying to analyse. There are likely to be some other prior steps before you get your tabular data. Those prior steps should also be documented. In this workshop we are going to start with a tabular data set. I found this rather interesting data set at <a href="https://data.gov.au">data.gov.au</a>, <a href="https://data.gov.au/data/dataset/domestic-airline-on-time-performance">Domestic Airlines - On Time Performance</a> and I decided to investigate it a bit closer.</p>
<div id="setup-1" class="section level2">
<h2><span class="header-section-number">6.1</span> Setup</h2>
<p>First thing first is we need to download it. Note that <code>read_csv</code> from <a href="https://readr.tidyverse.org/"><code>readr</code></a> package can “read” directly from url, but I wasn’t sure if everytime I compile Rmarkdown to html it would re-download the file or use chached version. I decide to store a local copy on my computer for speed and simplisity. You should always check a licence on the data set, especially if you are going to publish some of your analysis. This data is <em>Creative Commons Attribution 3.0 Australia</em> licence, there is no problem in downloading and using the data.</p>
<p>Let’s open new Rmarkdown file and delete everything from it except the yaml header.</p>
<div id="setting-global-chunk-options" class="section level3">
<h3><span class="header-section-number">6.1.1</span> Setting global chunk options</h3>
<p>As you have learned already you can manipulate each R chunk with options, but you can also set global settings for each chunk. Let’s set <code>echo = TRUE</code> and <code>message = FALSE</code> globally. This means every R chunk will be echoed i.e shown in the finale document and no messages will appear anywhere in the document.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="more-rmarkdown.html#cb65-1"></a><span class="kw">options</span>(<span class="dt">encoding=</span><span class="st">&quot;utf-8&quot;</span>)</span>
<span id="cb65-2"><a href="more-rmarkdown.html#cb65-2"></a></span>
<span id="cb65-3"><a href="more-rmarkdown.html#cb65-3"></a>knitr<span class="op">::</span>opts_chunk<span class="op">$</span><span class="kw">set</span>(<span class="dt">echo =</span> <span class="ot">TRUE</span>,</span>
<span id="cb65-4"><a href="more-rmarkdown.html#cb65-4"></a>                      <span class="dt">message =</span> <span class="ot">FALSE</span>)</span></code></pre>
</div>
<div id="loading-libraries" class="section level3">
<h3><span class="header-section-number">6.1.2</span> Loading libraries</h3>
<p>We are going to do our analysis with the help of <a href="https://www.tidyverse.org/"><code>tidyverse</code></a> library, that in itself includes many other libraries.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="more-rmarkdown.html#cb66-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre>
</div>
<div id="downloading-the-data" class="section level3">
<h3><span class="header-section-number">6.1.3</span> Downloading the data</h3>
<p>We are doing conditional download here, don’t re-download if we already have the file.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="more-rmarkdown.html#cb67-1"></a>fn_data &lt;-<span class="st"> &quot;domestic_airline_performance.csv&quot;</span></span>
<span id="cb67-2"><a href="more-rmarkdown.html#cb67-2"></a>fn_notes &lt;-<span class="st"> &quot;domestic_airline_performance_notes.txt&quot;</span></span>
<span id="cb67-3"><a href="more-rmarkdown.html#cb67-3"></a></span>
<span id="cb67-4"><a href="more-rmarkdown.html#cb67-4"></a><span class="cf">if</span>(<span class="op">!</span><span class="kw">file.exists</span>(fn_data)) {</span>
<span id="cb67-5"><a href="more-rmarkdown.html#cb67-5"></a>  url_data &lt;-<span class="st"> &quot;https://data.gov.au/data/dataset/29128ebd-dbaa-4ff5-8b86-d9f30de56452/resource/cf663ed1-0c5e-497f-aea9-e74bfda9cf44/download/otp_time_series_web.csv&quot;</span></span>
<span id="cb67-6"><a href="more-rmarkdown.html#cb67-6"></a>  url_notes &lt;-<span class="st"> &quot;https://data.gov.au/data/dataset/29128ebd-dbaa-4ff5-8b86-d9f30de56452/resource/69e214b9-b66f-4636-9c84-3efda2d0d8ae/download/otptimeserieswebnotes.txt&quot;</span></span>
<span id="cb67-7"><a href="more-rmarkdown.html#cb67-7"></a></span>
<span id="cb67-8"><a href="more-rmarkdown.html#cb67-8"></a>  <span class="kw">download.file</span>(url_data, fn_data)</span>
<span id="cb67-9"><a href="more-rmarkdown.html#cb67-9"></a>  <span class="kw">download.file</span>(url_notes, fn_notes)</span>
<span id="cb67-10"><a href="more-rmarkdown.html#cb67-10"></a>}</span>
<span id="cb67-11"><a href="more-rmarkdown.html#cb67-11"></a></span>
<span id="cb67-12"><a href="more-rmarkdown.html#cb67-12"></a>df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(fn_data, <span class="dt">quote =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb67-13"><a href="more-rmarkdown.html#cb67-13"></a>df</span></code></pre>
<pre><code>## # A tibble: 79,537 x 14
##    Route Departing_Port Arriving_Port Airline Month Sectors_Schedul…
##    &lt;chr&gt; &lt;chr&gt;          &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt;            &lt;dbl&gt;
##  1 Adel… Adelaide       Brisbane      All Ai… 37987              155
##  2 Adel… Adelaide       Canberra      All Ai… 37987               75
##  3 Adel… Adelaide       Gold Coast    All Ai… 37987               40
##  4 Adel… Adelaide       Melbourne     All Ai… 37987              550
##  5 Adel… Adelaide       Perth         All Ai… 37987              191
##  6 Adel… Adelaide       Sydney        All Ai… 37987              486
##  7 Albu… Albury         Sydney        All Ai… 37987              168
##  8 Alic… Alice Springs  Sydney        All Ai… 37987               63
##  9 All … All Ports      All Ports     All Ai… 37987            31913
## 10 Bris… Brisbane       Adelaide      All Ai… 37987              155
## # … with 79,527 more rows, and 8 more variables: Sectors_Flown &lt;dbl&gt;,
## #   Cancellations &lt;dbl&gt;, Departures_On_Time &lt;dbl&gt;, Arrivals_On_Time &lt;dbl&gt;,
## #   Departures_Delayed &lt;dbl&gt;, Arrivals_Delayed &lt;dbl&gt;, Year &lt;dbl&gt;,
## #   Month_Num &lt;dbl&gt;</code></pre>
</div>
</div>
<div id="challenge-1" class="section level2 exercise">
<h2><span class="header-section-number">6.2</span> Challenge: 1</h2>
<blockquote>
<p>2 minutes</p>
</blockquote>
<details>
<p><summary>
1. Exploring and familiarising yourself with the data set
</summary></p>
<p>The Bureau of Infrastructure, Transport and Regional Economics (BITRE) monitors the punctuality and reliability of major domestic airlines operating between Australian airports. The purpose of this is to allow for evaluation of overall industry and individual airline performance, so that consumers of air travel can make informed decisions.</p>
<p>Information presented in this report is for Australian domestic routes for which the passenger load averaged 8 000 or more passengers per month over the previous six months and where two or more airlines operated in competition on those routes. There were 66 routes that met this definition in April 2016. Over time, routes which meet these criteria change as airline networks and traffic levels vary.</p>
<p>On time arrival - A flight arrival is counted as “on time” if it arrived at the gate before 15 minutes after the scheduled arrival time shown in the carriers’ schedule.<br />
Neither diverted nor cancelled flights count as on time.
On time departure - A flight departure is counted as “on time” if it departs the gate before 15 minutes after the scheduled departure time shown in the carriers’ schedule.
Cancellation - A flight removed from service within 7 days of scheduled departure is regarded as a cancellation.</p>
<p>Participating airlines report their overall monthly network performance where this is possible.
Total industry figures encompass all services operated by reporting airlines only. These airlines collectively carried over 95 per cent of total domestic passengers (regular public transport only) in 2015.</p>
The following domestic airlines currently report this information monthly to the BITRE: Jetstar, Qantas, QantasLink, Regional Express, Tigerair Australia, Virgin Australia and Virgin Australia Regional Airlines. Data has been gathered since November 2003, although some airlines commenced reporting at a later date, including Jetstar which first reported in May 2004, MacAir in July 2005, Tigerair Australia in April 2008 and Virgin Australia Regional Airlines in May 2013. MacAir ceased operations in February 2009 and data was not received for December 2008 onwards. Virgin Blue was rebranded as Virgin Australia in May 2011 and Tiger Airways was rebranded as Tigerair Australia in July 2013 and time series data in Microsoft Excel spread sheet format on the BITRE website have been revised to reflect these changes. Services operated by Skywest on behalf of Virgin Australia using ATR/F100 aircraft commenced in November 2011 and were shown separately as Virgin Australia
</details>
</div>
<div id="exploring-the-data" class="section level2">
<h2><span class="header-section-number">6.3</span> Exploring the data</h2>
<p>Now that we’ve got the data lets explore it. It always helps if we can find more information about the data set, particular what information each column might have.</p>
<p>Let’s understand a bit better our data set by firstly figuring out how many observations and different variables we have. Instead of executing and showing the code we instead going to keep the chunk “silent” but still executing the R code and we are going to reuse our <code>d</code> variable later in the document.</p>
<pre><code>```{r echo = F}
d &lt;- df %&gt;% dim
```</code></pre>
<p>Later in the text we’ll access our <code>d</code> variable like you would in R</p>
<pre><code>`r d[1]`</code></pre>
<p>Lets add the following sentence to our Rmarkdown document and then <code>knit</code> to see the results.</p>
<pre><code>total number of observation `r d[1]` and total number of variables `r d[2]`</code></pre>
<p>Now we are going to look at total number of airlines, include the following code into your Rmarkdown document.</p>
<pre><code>```{r echo = F}
df %&gt;%
select(Airline) %&gt;%
distinct() %&gt;%
arrange(Airline)
```</code></pre>
<p>Let’s summarise our data to see how many observation each airline has.</p>
<pre><code>```{r echo = F}
df %&gt;%
group_by(Airline) %&gt;%
summarise(n = n()) %&gt;%
arrange(-n)
```</code></pre>
<p>I hope you have noticed “All Airlines” name in the <code>Airline</code> column. I’m fairly certain that this isn’t any specif airlines. In general we would need to consult people who we got the data from, but in our case we are simply going to filter those observations out.</p>
<pre><code>```{r echo = F}
df2 &lt;- df %&gt;% filter(Airline != &#39;All Airlines&#39;
```</code></pre>
</div>
<div id="challenge-1-1" class="section level2 exercise">
<h2><span class="header-section-number">6.4</span> Challenge: 1</h2>
<blockquote>
<p>5 minutes</p>
</blockquote>
<details>
<summary>
1. Can you summarise routes in similar way as we did with airlines?
</summary>
use <code>group_by(Route)</code>
</details>
<details>
<summary>
2. Can spot an odd route in you summary? If you can filter is our from <code>df2</code>.
</summary>
<code>filter(Route != "All Ports-All Ports")</code>
</details>
</div>
<div id="visualising-the-data" class="section level2">
<h2><span class="header-section-number">6.5</span> Visualising the data</h2>
<p>In this section we are going to learn a few more chunk options, all to do with figure manipulation.</p>
<ul>
<li><code>fig.align</code></li>
<li><code>fig.cap</code></li>
<li><code>fig.height</code></li>
<li><code>fig.width</code></li>
</ul>
<p>Firstly lets make sure we have our data properly filtered, just in case you missed the challenge above</p>
<pre><code>```{r}
df2 &lt;- df %&gt;% filter(Airline != &#39;All Airlines&#39;, Route != &#39;All Ports-All Ports&#39;)
```</code></pre>
<p>Here we are summarising so that we have an idea of how many times a particular location had be use per airline per year and we are only going to look at two airlines, Jetstar and Qantas.</p>
<pre><code>```{r}
df2 %&gt;%
  group_by(Airline, Year, Departing_Port) %&gt;%
  summarise(n = n()) %&gt;%
  ungroup %&gt;%
  filter(Airline == &#39;Jetstar&#39; | Airline == &#39;Qantas&#39;) %&gt;%
    ggplot(aes(Departing_Port, n, color = Airline)) +
    geom_boxplot() +
    theme(axis.text.x=element_text(angle=45, hjust=1))
```</code></pre>
<p>In any given year what is the distribution of cancellation</p>
<p>Note the <code>warning</code> message that comes up in the text, let’s assume we understand it and let’s just turn it off by setting <code>warning = F</code></p>
<pre><code>```{r, fig.width = 14, fig.height = 9}
df2 %&gt;%
  filter(Airline == &#39;Jetstar&#39; | Airline == &#39;Qantas&#39;) %&gt;%
  select(Airline, Departing_Port, Cancellations, Year) %&gt;%
    ggplot(aes(Departing_Port, Cancellations, color = factor(Year))) +
      geom_boxplot() +
      facet_wrap(~Airline) +
      theme(axis.text.x=element_text(angle= 45, hjust=1))
```</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="the-r-chunk-2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="yaml-introduction.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/MonashDataFluency/r-rep-res/edit/master/book/05-more-rmarkdown.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": [["Reproducible-Research-in-R.pdf", "PDF"]],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
